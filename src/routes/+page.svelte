<script lang="ts">
	import Template from "$lib/Template.svelte";
    import { Template as CodeTemplate, DataBlock } from "df.ts";

    var stack = true;
    var openableChests = true;
    var template = CodeTemplate.parse({"blocks":[{"id":"block","block":"event","args":{"items":[]},"action":"Join"},{"id":"block","block":"player_action","args":{"items":[{"item":{"id":"pot","data":{"pot":"Darkness","dur":1000000,"amp":1}},"slot":0},{"item":{"id":"bl_tag","data":{"option":"False","tag":"Show Icon","action":"GivePotion","block":"player_action"}},"slot":24},{"item":{"id":"bl_tag","data":{"option":"False","tag":"Overwrite Effect","action":"GivePotion","block":"player_action"}},"slot":25},{"item":{"id":"bl_tag","data":{"option":"None","tag":"Effect Particles","action":"GivePotion","block":"player_action"}},"slot":26}]},"action":"GivePotion"},{"id":"block","block":"set_var","args":{"items":[{"item":{"id":"var","data":{"name":"Cam Access","scope":"saved"}},"slot":0},{"item":{"id":"loc","data":{"isBlock":false,"loc":{"x":57.5,"y":51.5,"z":47.5,"pitch":0.0,"yaw":0.0}}},"slot":1},{"item":{"id":"loc","data":{"isBlock":false,"loc":{"x":82.5,"y":51.5,"z":69.5,"pitch":0.0,"yaw":0.0}}},"slot":2}]},"action":"CreateList"},{"id":"block","block":"set_var","args":{"items":[{"item":{"id":"var","data":{"name":"cameralist","scope":"saved"}},"slot":0},{"item":{"id":"loc","data":{"isBlock":false,"loc":{"x":54.30000001192093,"y":52.200000047683716,"z":49.30000001192093,"pitch":15.599898,"yaw":-38.550003}}},"slot":1},{"item":{"id":"loc","data":{"isBlock":false,"loc":{"x":83.69999998807907,"y":52.200000047683716,"z":35.30000001192093,"pitch":28.799875,"yaw":42.449768}}},"slot":2},{"item":{"id":"loc","data":{"isBlock":false,"loc":{"x":54.30000001192093,"y":52.200000047683716,"z":63.30000001192093,"pitch":23.249823,"yaw":-27.750977}}},"slot":3}]},"action":"CreateList"},{"id":"block","block":"set_var","args":{"items":[{"item":{"id":"var","data":{"name":"cameralistnames","scope":"saved"}},"slot":0},{"item":{"id":"txt","data":{"name":"Exit"}},"slot":1},{"item":{"id":"txt","data":{"name":"Diamond Cave"}},"slot":2},{"item":{"id":"txt","data":{"name":"sculk Infestation Place"}},"slot":3}]},"action":"CreateList"},{"id":"block","block":"set_var","args":{"items":[{"item":{"id":"var","data":{"name":"cameralistlength","scope":"saved"}},"slot":0},{"item":{"id":"var","data":{"name":"cameralist","scope":"saved"}},"slot":1}]},"action":"ListLength"},{"id":"block","block":"player_action","args":{"items":[{"item":{"id":"txt","data":{"name":"§2%default §x§d§0§f§2§8§1Joined The Job"}},"slot":0},{"item":{"id":"bl_tag","data":{"option":"Add spaces","tag":"Text Value Merging","action":"SendMessage","block":"player_action"}},"slot":25},{"item":{"id":"bl_tag","data":{"option":"Regular","tag":"Alignment Mode","action":"SendMessage","block":"player_action"}},"slot":26}]},"action":"SendMessage"},{"id":"block","block":"player_action","args":{"items":[{"item":{"id":"var","data":{"name":"%default light source","scope":"saved"}},"slot":0},{"item":{"id":"item","data":{"item":"{Count:1b,DF_NBT:3105,id:\"minecraft:diamond\",tag:{display:{Name:'{\"extra\":[{\"bold\":true,\"italic\":false,\"underlined\":false,\"strikethrough\":false,\"obfuscated\":false,\"color\":\"#9FC5E8\",\"text\":\"New Game\"}],\"text\":\"\"}'}}}"}},"slot":3},{"item":{"id":"item","data":{"item":"{Count:1b,DF_NBT:3105,id:\"minecraft:emerald\",tag:{display:{Name:'{\"extra\":[{\"bold\":true,\"italic\":false,\"underlined\":false,\"strikethrough\":false,\"obfuscated\":false,\"color\":\"#B6D7A8\",\"text\":\"Continue Game\"}],\"text\":\"\"}'}}}"}},"slot":5}]},"action":"SetHotbar"},{"id":"block","block":"player_action","args":{"items":[{"item":{"id":"num","data":{"name":"18000"}},"slot":0}]},"action":"SetPlayerTime"},{"id":"block","block":"start_process","args":{"items":[{"item":{"id":"bl_tag","data":{"option":"Don't copy","tag":"Local Variables","action":"dynamic","block":"start_process"}},"slot":25},{"item":{"id":"bl_tag","data":{"option":"With current targets","tag":"Target Mode","action":"dynamic","block":"start_process"}},"slot":26}]},"data":"DIAMONDDrill"},{"id":"block","block":"if_var","args":{"items":[{"item":{"id":"var","data":{"name":"%default First Join","scope":"saved"}},"slot":0},{"item":{"id":"txt","data":{"name":"true"}},"slot":1}]},"action":"!="},{"id":"bracket","direct":"open","type":"norm"},{"id":"block","block":"player_action","args":{"items":[{"item":{"id":"txt","data":{"name":"§6%default §x§f§f§a§f§5§bJoined For FIRST TIME!"}},"slot":0},{"item":{"id":"bl_tag","data":{"option":"Add spaces","tag":"Text Value Merging","action":"SendMessage","block":"player_action"}},"slot":25},{"item":{"id":"bl_tag","data":{"option":"Regular","tag":"Alignment Mode","action":"SendMessage","block":"player_action"}},"slot":26}]},"action":"SendMessage","target":"AllPlayers"},{"id":"block","block":"set_var","args":{"items":[{"item":{"id":"var","data":{"name":"%default First Join","scope":"saved"}},"slot":0},{"item":{"id":"txt","data":{"name":"true"}},"slot":1}]},"action":"="},{"id":"block","block":"set_var","args":{"items":[{"item":{"id":"var","data":{"name":"%default light source","scope":"saved"}},"slot":0},{"item":{"id":"item","data":{"item":"{Count:1b,DF_NBT:3105,id:\"minecraft:player_head\",tag:{CustomModelData:0,HideFlags:127,SkullOwner:{Id:[I;951031868,887898960,-1842827237,-291076597],Name:\"DF-HEAD\",Properties:{textures:[{Value:\"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWYzYThjMTY4MWRkMjgzN2UyYjIyMzMxMGNjM2NjNjY1NWVlZDQ0NzRiYjZhNjNiZjJkZjViODc0MjlkZWJlMSJ9fX0=\"}]}},display:{Name:'{\"extra\":[{\"bold\":true,\"italic\":false,\"underlined\":false,\"strikethrough\":false,\"obfuscated\":false,\"color\":\"dark_gray\",\"text\":\"Current Light Source: \"},{\"bold\":false,\"italic\":false,\"color\":\"yellow\",\"text\":\"Flashlight\"}],\"text\":\"\"}'}}}"}},"slot":1}]},"action":"="},{"id":"bracket","direct":"close","type":"norm"},{"id":"block","block":"if_player","args":{"items":[{"item":{"id":"bl_tag","data":{"option":"Developer or builder","tag":"Permission","action":"HasPermission","block":"if_player"}},"slot":26}]},"action":"HasPermission"},{"id":"bracket","direct":"open","type":"norm"},{"id":"block","block":"player_action","args":{"items":[{"item":{"id":"item","data":{"item":"{Count:1b,DF_NBT:3105,id:\"minecraft:player_head\",tag:{CustomModelData:0,HideFlags:127,SkullOwner:{Id:[I;1827953373,-289586749,-1782293670,-1511301750],Name:\"DF-HEAD\",Properties:{textures:[{Value:\"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvM2QyNWU0NjcxOWY5NjdiMzNjMjk3ZWQxNGE1MWJlOTRlZDY0YmJlZDM2MmFhYzkxYzc5ZjM5MDNlMWVhNDkxIn19fQ==\"}]}},display:{Name:'{\"extra\":[{\"bold\":true,\"italic\":false,\"underlined\":false,\"strikethrough\":false,\"obfuscated\":false,\"color\":\"dark_gray\",\"text\":\"Current Light Source: \"},{\"bold\":false,\"italic\":false,\"color\":\"gold\",\"text\":\"Lantern\"}],\"text\":\"\"}'}}}"}},"slot":8},{"item":{"id":"item","data":{"item":"{Count:1b,DF_NBT:3105,id:\"minecraft:player_head\",tag:{CustomModelData:0,HideFlags:127,SkullOwner:{Id:[I;951031868,887898960,-1842827237,-291076597],Name:\"DF-HEAD\",Properties:{textures:[{Value:\"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWYzYThjMTY4MWRkMjgzN2UyYjIyMzMxMGNjM2NjNjY1NWVlZDQ0NzRiYjZhNjNiZjJkZjViODc0MjlkZWJlMSJ9fX0=\"}]}},display:{Name:'{\"extra\":[{\"bold\":true,\"italic\":false,\"underlined\":false,\"strikethrough\":false,\"obfuscated\":false,\"color\":\"dark_gray\",\"text\":\"Current Light Source: \"},{\"bold\":false,\"italic\":false,\"color\":\"yellow\",\"text\":\"Flashlight\"}],\"text\":\"\"}'}}}"}},"slot":12},{"item":{"id":"item","data":{"item":"{Count:1b,DF_NBT:3105,id:\"minecraft:player_head\",tag:{CustomModelData:0,HideFlags:127,SkullOwner:{Id:[I;-800004873,1865892442,-1207471037,-1513893808],Name:\"DF-HEAD\",Properties:{textures:[{Value:\"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNTYxNDNhNTQwYzFiYjVlMDEwMmQyYzFhMWFhNmQ5ODNhZjQ3OTY3NTliNDI4NGQyY2E0ZGRiMDFhYTViMWY5OSJ9fX0=\"}]}},display:{Name:'{\"extra\":[{\"bold\":true,\"italic\":false,\"underlined\":false,\"strikethrough\":false,\"obfuscated\":false,\"color\":\"dark_gray\",\"text\":\"Current Light Source: \"},{\"bold\":false,\"italic\":false,\"color\":\"white\",\"text\":\"flashlight 2\"}],\"text\":\"\"}'}}}"}},"slot":14},{"item":{"id":"item","data":{"item":"{Count:1b,DF_NBT:3105,id:\"minecraft:player_head\",tag:{CustomModelData:0,HideFlags:127,SkullOwner:{Id:[I;1513244872,2033926519,-1938670560,-1671000984],Name:\"DF-HEAD\",Properties:{textures:[{Value:\"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYmMxNTFhN2RhZTkwM2FlNDdhZWY2MzdmMTBkNWU1N2ZlNzNmYTkyMzNiYzQ2N2I0ODUzYzdlMWJjZWFhOTVjZSJ9fX0=\"}]}},display:{Name:'{\"extra\":[{\"bold\":true,\"italic\":false,\"underlined\":false,\"strikethrough\":false,\"obfuscated\":false,\"color\":\"dark_gray\",\"text\":\"Current Light Source: \"},{\"bold\":false,\"italic\":false,\"color\":\"green\",\"text\":\"Night Vision Goggles\"}],\"text\":\"\"}'}}}"}},"slot":18}]},"action":"ShowInv"},{"id":"block","block":"player_action","args":{"items":[{"item":{"id":"bl_tag","data":{"option":"Enable","tag":"Allow Flight","action":"SetAllowFlight","block":"player_action"}},"slot":26}]},"action":"SetAllowFlight"},{"id":"bracket","direct":"close","type":"norm"}]}); // I should honestly credit these templates, so this one is dfo:yn4erq6dj9b1vugx8gl3bsh
    template = CodeTemplate.parse({"blocks":[{"id":"block","block":"player_action","args":{"items":[{"item":{"id":"txt","data":{"name":"§2§l%default §x§d§0§f§2§8§1§m§ntest"}},"slot":0}]},"action":"SendMessage"}]})

</script>

<h1>template demo</h1>
<p>Example page of template</p>

<div style="position: sticky; width: max-content; left: 0">
    <label>
        Stacking?
        <input type="checkbox" bind:checked={stack} />
    </label>
    <label>
        Openable Chests?
        <input type="checkbox" bind:checked={openableChests}>
    </label>
</div>

<Template {stack} {openableChests} {template} --tooltip-size="3"/>
